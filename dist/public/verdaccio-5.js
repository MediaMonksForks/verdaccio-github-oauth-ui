(function () {function N(a){return a&&a.__esModule?{d:a.default}:{d:a}}var g={};function O(e){localStorage.setItem("username",e.username),localStorage.setItem("token",e.uiToken),localStorage.setItem("npm",e.npmToken)}function P(){localStorage.removeItem("username"),localStorage.removeItem("token"),localStorage.removeItem("npm")}function k(){return!!localStorage.getItem("username")&&!!localStorage.getItem("token")&&!!localStorage.getItem("npm")}function Q(e){return e.username&&e.uiToken&&e.npmToken}function R(){history.replaceState(null,"",location.pathname),location.reload()}function S(){if(!k()){var r=W();Q(r)&&(O(r),R())}}function T(r){S();var $=r.loginButton,e=r.logoutButton,t=r.updateUsageInfo;p($,function(){location.href=U}),p(e,function(){P(),location.href=V}),document.addEventListener("click",function(){return m(t)}),m(t)}var U="/-/oauth/authorize";var V="/";function W(){var $P2vx$$interop$default=N(f);return $P2vx$$interop$default.d.parse(window.location.search||"?")}function m(e){for(var r=0;r<10;r++)setTimeout(function(){return e()},100*r)}function X(e,r){var t=r.path||r.composedPath&&r.composedPath(),$=document.querySelector(e);return t.includes($)}function p(e,r){document.addEventListener("click",function(t){X(e,t)&&(t.preventDefault(),t.stopPropagation(),r())},!0)}var Y={};Y=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`);var Z={},q="%[a-f0-9]{2}",w=new RegExp(q,"gi"),x=new RegExp("("+q+")+","gi");function h(e,r){try{return decodeURIComponent(e.join(""))}catch(n){}if(1===e.length)return e;r=r||1;var t=e.slice(0,r),o=e.slice(r);return Array.prototype.concat.call([],h(t),h(o))}function _(e){try{return decodeURIComponent(e)}catch(o){for(var r=e.match(w),t=1;t<r.length;t++)r=(e=h(r,t).join("")).match(w);return e}}function aa(e){for(var r={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},t=x.exec(e);t;){try{r[t[0]]=decodeURIComponent(t[0])}catch(a){var o=_(t[0]);o!==t[0]&&(r[t[0]]=o)}t=x.exec(e)}r["%C2"]="\uFFFD";for(var n=Object.keys(r),$=0;$<n.length;$++){var c=n[$];e=e.replace(new RegExp(c,"g"),r[c])}return e}Z=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(r){return aa(e)}};var y={};y=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]};var ba={};ba=function(r,e){for(var s={},t=Object.keys(r),a=Array.isArray(e),n=0;n<t.length;n++){var o=t[n],$=r[o];(a?-1!==e.indexOf(o):e(o,$,r))&&(s[o]=$)}return s};var f={};const ca=r=>null==r,j=Symbol("encodeFragmentIdentifier");function da(r){switch(r.arrayFormat){case"index":return e=>(t,a)=>{const $=t.length;return void 0===a||r.skipNull&&null===a||r.skipEmptyString&&""===a?t:null===a?[...t,[b(e,r),"[",$,"]"].join("")]:[...t,[b(e,r),"[",b($,r),"]=",b(a,r)].join("")]};case"bracket":return e=>(t,a)=>void 0===a||r.skipNull&&null===a||r.skipEmptyString&&""===a?t:null===a?[...t,[b(e,r),"[]"].join("")]:[...t,[b(e,r),"[]=",b(a,r)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===r.arrayFormat?"[]=":"=";return t=>(a,$)=>void 0===$||r.skipNull&&null===$||r.skipEmptyString&&""===$?a:($=null===$?"":$,0===a.length?[[b(t,r),e,b($,r)].join("")]:[[a,b($,r)].join(r.arrayFormatSeparator)])}default:return e=>(t,a)=>void 0===a||r.skipNull&&null===a||r.skipEmptyString&&""===a?t:null===a?[...t,b(e,r)]:[...t,[b(e,r),"=",b(a,r)].join("")];}}function ea(r){let e;switch(r.arrayFormat){case"index":return(r,t,a)=>{e=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),e?(void 0===a[r]&&(a[r]={}),a[r][e[1]]=t):a[r]=t};case"bracket":return(r,t,a)=>{e=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),e?void 0!==a[r]?a[r]=[].concat(a[r],t):a[r]=[t]:a[r]=t};case"comma":case"separator":return(e,t,a)=>{const $="string"==typeof t&&t.includes(r.arrayFormatSeparator),o="string"==typeof t&&!$&&d(t,r).includes(r.arrayFormatSeparator);t=o?d(t,r):t;const n=$||o?t.split(r.arrayFormatSeparator).map(e=>d(e,r)):null===t?t:d(t,r);a[e]=n};case"bracket-separator":return(e,t,a)=>{const $=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!$)return void(a[e]=t?d(t,r):t);const o=null===t?[]:t.split(r.arrayFormatSeparator).map(e=>d(e,r));void 0!==a[e]?a[e]=[].concat(a[e],o):a[e]=o};default:return(r,e,t)=>{void 0!==t[r]?t[r]=[].concat(t[r],e):t[r]=e};}}function z(r){if("string"!=typeof r||1!==r.length)throw new TypeError("arrayFormatSeparator must be single character string")}function b(r,e){return e.encode?e.strict?Y(r):encodeURIComponent(r):r}function d(r,e){return e.decode?Z(r):r}function A(r){return Array.isArray(r)?r.sort():"object"==typeof r?A(Object.keys(r)).sort((r,e)=>Number(r)-Number(e)).map(e=>r[e]):r}function B(r){const e=r.indexOf("#");return-1!==e&&(r=r.slice(0,e)),r}function fa(r){let e="";const t=r.indexOf("#");return-1!==t&&(e=r.slice(t)),e}function C(r){const e=(r=B(r)).indexOf("?");return-1===e?"":r.slice(e+1)}function D(r,e){return e.parseNumbers&&!Number.isNaN(Number(r))&&"string"==typeof r&&""!==r.trim()?r=Number(r):!e.parseBooleans||null===r||"true"!==r.toLowerCase()&&"false"!==r.toLowerCase()||(r="true"===r.toLowerCase()),r}function E(r,e){z((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const t=ea(e),a=Object.create(null);if("string"!=typeof r)return a;if(!(r=r.trim().replace(/^[?#&]/,"")))return a;for(const $ of r.split("&")){if(""===$)continue;let[r,o]=y(e.decode?$.replace(/\+/g," "):$,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:d(o,e),t(d(r,e),o,a)}for(const $ of Object.keys(a)){const r=a[$];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=D(r[t],e);else a[$]=D(r,e)}return!1===e.sort?a:(!0===e.sort?Object.keys(a).sort():Object.keys(a).sort(e.sort)).reduce((r,e)=>{const t=a[e];return Boolean(t)&&"object"==typeof t&&!Array.isArray(t)?r[e]=A(t):r[e]=t,r},Object.create(null))}var F=C;f.extract=F;var G=E;f.parse=G;var H=(r,e)=>{if(!r)return"";z((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const t=t=>e.skipNull&&ca(r[t])||e.skipEmptyString&&""===r[t],a=da(e),$={};for(const n of Object.keys(r))t(n)||($[n]=r[n]);const o=Object.keys($);return!1!==e.sort&&o.sort(e.sort),o.map(t=>{const $=r[t];return void 0===$?"":null===$?b(t,e):Array.isArray($)?0===$.length&&"bracket-separator"===e.arrayFormat?b(t,e)+"[]":$.reduce(a(t),[]).join("&"):b(t,e)+"="+b($,e)}).filter(r=>r.length>0).join("&")};f.stringify=H;var I=(r,e)=>{e=Object.assign({decode:!0},e);const[t,a]=y(r,"#");return Object.assign({url:t.split("?")[0]||"",query:E(C(r),e)},e&&e.parseFragmentIdentifier&&a?{fragmentIdentifier:d(a,e)}:{})};f.parseUrl=I;var J=(r,e)=>{e=Object.assign({encode:!0,strict:!0,[j]:!0},e);const t=B(r.url).split("?")[0]||"",a=F(r.url),$=G(a,{sort:!1}),o=Object.assign($,r.query);let n=H(o,e);n&&(n=`?${n}`);let v=fa(r.url);return r.fragmentIdentifier&&(v=`#${e[j]?b(r.fragmentIdentifier,e):r.fragmentIdentifier}`),`${t}${n}${v}`};f.stringifyUrl=J;var K=(r,e,t)=>{t=Object.assign({parseFragmentIdentifier:!0,[j]:!1},t);const{url:a,query:$,fragmentIdentifier:o}=I(r,t);return J({url:a,query:ba($,e),fragmentIdentifier:o},t)};f.pick=K;var ga=(r,e,t)=>{const a=Array.isArray(e)?r=>!e.includes(r):(r,t)=>!e(r,t);return K(r,a,t)};f.exclude=ga;function ha(){if(!localStorage.getItem("username"))return"Click the login button to authenticate.";var t=window.VERDACCIO_API_URL?window.VERDACCIO_API_URL.replace(/^https?:/,"").replace(/-\/verdaccio\/$/,""):"//".concat(location.host).concat(location.pathname),e=localStorage.getItem("npm");return["npm config set ".concat(t,":_authToken \"").concat(e,"\""),"npm config set ".concat(t,":always-auth true")].join("\n")}var ia=g&&g.__awaiter||function(e,n,t,r){return new(t||(t=Promise))(function(o,a){function l(e){try{u(r.next(e))}catch(n){a(n)}}function i(e){try{u(r.throw(e))}catch(n){a(n)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(l,i)}u((r=r.apply(e,n||[])).next())})},ja=g&&g.__generator||function(e,n){var t,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue;}a=n.call(e,l)}catch(i){a=[6,i],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},ka="#help-card .MuiCardContent-root span",la="#registryInfo--dialog-container .MuiDialogContent-root .MuiTypography-root span",L="Os1waV6BSoZQKfFwNlIwS";function ma(e){return ia(this,void 0,void 0,function(){return ja(this,function(n){switch(n.label){case 0:return[4,navigator.clipboard.writeText(e)];case 1:return n.sent(),[2];}})})}function M(e,n){var t=ha(),r=k(),o=document.querySelectorAll(e),a=Array.prototype.find.call(o,n),l=!!Array.prototype.find.call(o,function(e){return e.parentElement.classList.contains(L)});if(a&&!l){var i=a.parentElement;i&&t.split("\n").reverse().forEach(function(e){var n=i.cloneNode(!0),t=n.querySelector("span"),o=n.querySelector("button");n.classList.add(L),t.innerText=e,o.style.visibility=r?"visible":"hidden",o.onclick=function(n){n.preventDefault(),n.stopPropagation(),ma(e)},i.insertAdjacentElement("afterend",n)}),o.forEach(function(e){e.innerText.match(/^(npm|pnpm|yarn)/)&&(e.innerText.includes("adduser")||e.innerText.includes("set password"))&&e.parentElement.parentElement.removeChild(e.parentElement)})}}function na(){M(ka,function(e){return e.innerText.includes("adduser")}),M(la,function(e){return!!e.innerText.match(/((npm|pnpm) set|(yarn) config set)/)})}T({loginButton:"[data-testid=\"header--button-login\"]",logoutButton:"[data-testid=\"header--button-logout\"]",updateUsageInfo:na});if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=g}else if(typeof define==="function"&&define.amd){define(function(){return g})}})();